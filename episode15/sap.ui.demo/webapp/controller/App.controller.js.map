{"version":3,"file":"App.controller.js","names":["BaseController","_interopRequireDefault","__BaseController","App","extend","onInit","_onInit","getView","addStyleClass","getOwnerComponent","getContentDensityClass","getRouter","attachRouteMatched","event","onRouteMatched","onStateChanged","_onStateChanged","oEvent","bIsNavigationArrow","getParameter","sLayout","updateUIElements","navTo","currentRouteName","layout","id","currentId","_onRouteMatched","sRouteName","oArguments","_updateUIElements","oModel","getModel","helper","getHelper","oUIState","getCurrentUIState","setData","onExit","_onExit","detachRouteMatched"],"sources":["../../src/controller/App.controller.ts"],"sourcesContent":["import AppComponent, { UIState } from \"../Component\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport BaseController from \"./BaseController\";\nimport UI5Event from \"sap/ui/base/Event\";\n\nexport type inputParameters = {\n\tid: string;\n};\n\n/**\n * @namespace sap.ui.demo.controller\n */\nexport default class App extends BaseController {\n\tprivate currentRouteName: string;\n\tprivate currentId: string;\n\n\tpublic onInit(): void {\n\t\t// apply content density mode to root view\n\t\tthis.getView().addStyleClass((this.getOwnerComponent() as AppComponent).getContentDensityClass());\n\t\t(this.getOwnerComponent() as AppComponent).getRouter().attachRouteMatched((event: UI5Event)=>this.onRouteMatched(event), this);\n\t}\n\n\tpublic onStateChanged(oEvent: UI5Event):void{\n\t\tconst bIsNavigationArrow =(oEvent.getParameter(\"isNavigationArrow\") as string),\n\t\t\tsLayout = (oEvent.getParameter(\"layout\") as string);\n\n\t\tvoid this.updateUIElements();\n\n\t\t// Replace the URL with the new layout if a navigation arrow was used\n\t\tif (bIsNavigationArrow) {\n\t\t\t(this.getOwnerComponent() as AppComponent).getRouter().navTo(this.currentRouteName, {layout: sLayout, id: this.currentId},{}, true);\n\t\t}\n\t}\n\t\n\tpublic onRouteMatched(oEvent: UI5Event):void{\n\t\tconst sRouteName = (oEvent.getParameter(\"name\") as string),\n\t\t\toArguments = (oEvent.getParameter(\"arguments\") as inputParameters);\n\n\t\tvoid this.updateUIElements();\n\n\t\t// Save the current route name\n\t\tthis.currentRouteName = sRouteName;\n\t\tthis.currentId = oArguments.id;\n\t}\n\n\tprivate async updateUIElements() {\n\t\tconst oModel = ((this.getOwnerComponent() as AppComponent).getModel(\"appView\") as JSONModel),\n\t\t\thelper = await (this.getOwnerComponent() as AppComponent).getHelper(),\n\t\t\toUIState = (helper.getCurrentUIState() as UIState);\n\t\toModel.setData(oUIState);\n\t}\n\n\tpublic onExit():void{\n\t\tthis.getRouter() && this.getRouter().detachRouteMatched((event: UI5Event)=>this.onRouteMatched(event), this);\n\t}\n}"],"mappings":";;;;QAEOA,cAAc,GAAAC,sBAAA,CAAAC,gBAAA;EAOrB;AACA;AACA;EAFA,MAGqBC,GAAG,GAASH,cAAc,CAAAI,MAAA;IAIvCC,MAAM,WAAAC,QAAA,EAAS;MACrB;MACA,IAAI,CAACC,OAAO,CAAC,CAAC,CAACC,aAAa,CAAE,IAAI,CAACC,iBAAiB,CAAC,CAAC,CAAkBC,sBAAsB,CAAC,CAAC,CAAC;MAChG,IAAI,CAACD,iBAAiB,CAAC,CAAC,CAAkBE,SAAS,CAAC,CAAC,CAACC,kBAAkB,CAAEC,KAAe,IAAG,IAAI,CAACC,cAAc,CAACD,KAAK,CAAC,EAAE,IAAI,CAAC;IAC/H,CAAC;IAEME,cAAc,WAAAC,gBAACC,MAAgB,EAAM;MAC3C,MAAMC,kBAAkB,GAAGD,MAAM,CAACE,YAAY,CAAC,mBAAmB,CAAY;QAC7EC,OAAO,GAAIH,MAAM,CAACE,YAAY,CAAC,QAAQ,CAAY;MAEpD,KAAK,IAAI,CAACE,gBAAgB,CAAC,CAAC;;MAE5B;MACA,IAAIH,kBAAkB,EAAE;QACtB,IAAI,CAACT,iBAAiB,CAAC,CAAC,CAAkBE,SAAS,CAAC,CAAC,CAACW,KAAK,CAAC,IAAI,CAACC,gBAAgB,EAAE;UAACC,MAAM,EAAEJ,OAAO;UAAEK,EAAE,EAAE,IAAI,CAACC;QAAS,CAAC,EAAC,CAAC,CAAC,EAAE,IAAI,CAAC;MACpI;IACD,CAAC;IAEMZ,cAAc,WAAAa,gBAACV,MAAgB,EAAM;MAC3C,MAAMW,UAAU,GAAIX,MAAM,CAACE,YAAY,CAAC,MAAM,CAAY;QACzDU,UAAU,GAAIZ,MAAM,CAACE,YAAY,CAAC,WAAW,CAAqB;MAEnE,KAAK,IAAI,CAACE,gBAAgB,CAAC,CAAC;;MAE5B;MACA,IAAI,CAACE,gBAAgB,GAAGK,UAAU;MAClC,IAAI,CAACF,SAAS,GAAGG,UAAU,CAACJ,EAAE;IAC/B,CAAC;IAEaJ,gBAAgB,iBAAAS,kBAAA,EAAG;MAChC,MAAMC,MAAM,GAAK,IAAI,CAACtB,iBAAiB,CAAC,CAAC,CAAkBuB,QAAQ,CAAC,SAAS,CAAe;QAC3FC,MAAM,GAAG,MAAO,IAAI,CAACxB,iBAAiB,CAAC,CAAC,CAAkByB,SAAS,CAAC,CAAC;QACrEC,QAAQ,GAAIF,MAAM,CAACG,iBAAiB,CAAC,CAAa;MACnDL,MAAM,CAACM,OAAO,CAACF,QAAQ,CAAC;IACzB,CAAC;IAEMG,MAAM,WAAAC,QAAA,EAAO;MACnB,IAAI,CAAC5B,SAAS,CAAC,CAAC,IAAI,IAAI,CAACA,SAAS,CAAC,CAAC,CAAC6B,kBAAkB,CAAE3B,KAAe,IAAG,IAAI,CAACC,cAAc,CAACD,KAAK,CAAC,EAAE,IAAI,CAAC;IAC7G;EAAC;EAAA,OA1CmBV,GAAG;AAAA"}