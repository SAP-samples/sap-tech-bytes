{"version":3,"file":"Detail.controller.js","names":["BaseController","_interopRequireDefault","__BaseController","formatter","__formatter","Detail","extend","constructor","prototype","apply","arguments","onInit","_onInit","viewModel","JSONModel","busy","delay","setModel","getRouter","getRoute","attachPatternMatched","event","onObjectMatched","_onObjectMatched","getModel","id","getParameter","metadataLoaded","then","path","createKey","ID","getView","bindElement","events","change","onBindingChange","dataRequested","setProperty","dataReceived","_onBindingChange","elementBinding","getElementBinding","getBoundContext","getTargets","display","onCloseDetailPress","_onCloseDetailPress","navTo","handleFullScreen","_handleFullScreen","nextLayout","getProperty","layout","handleExitFullScreen","_handleExitFullScreen","handleClose","_handleClose"],"sources":["../../src/controller/Detail.controller.ts"],"sourcesContent":["import BaseController from \"./BaseController\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport formatter from \"../model/formatter\";\nimport UI5Event from \"sap/ui/base/Event\";\nimport ODataModel from \"sap/ui/model/odata/v2/ODataModel\";\nimport {inputParameters} from \"./App.controller\";\n\n/**\n * @namespace sap.ui.demo.controller\n */\nexport default class Detail extends BaseController {\n\tprivate id: string;\n\tprivate formatter = formatter;\n\tpublic onInit(): void {\n\t\tconst viewModel = new JSONModel({\n\t\t\tbusy : false,\n\t\t\tdelay:0\n\t\t});\n\t\tthis.setModel(viewModel, \"detailView\");\n\n\t\tthis.getRouter().getRoute(\"detail\").attachPatternMatched((event:UI5Event)=>this.onObjectMatched(event), this);\n\t}\n\n\tprivate onObjectMatched(event: UI5Event): void {\n\t\tconst viewModel = (this.getModel(\"detailView\") as JSONModel);\n\n\t\tthis.id = (event.getParameter(\"arguments\") as inputParameters).id || this.id || \"0\";\n\n\t\tvoid (this.getModel() as ODataModel).metadataLoaded().then( ()=> {\n\n\t\t\tconst path = (this.getModel() as ODataModel).createKey(\"/Products\",{\n\t\t\t\tID:this.id\n\t\t\t});\n\n\t\t\tthis.getView().bindElement({\n\t\t\t\tpath: path,\n\t\t\t\tevents:{\n\t\t\t\t\tchange : ()=>this.onBindingChange(),\n\t\t\t\t\tdataRequested : ()=>{\n\t\t\t\t\t\tviewModel.setProperty(\"/busy\", true);\n\t\t\t\t\t},\n\t\t\t\t\tdataReceived: function () {\n\t\t\t\t\t\tviewModel.setProperty(\"/busy\", false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t});\n\t}\n\n\tprivate onBindingChange() {\n\t\tconst elementBinding = this.getView().getElementBinding();\n\t\t// No data for the binding\n\t\tif (!elementBinding.getBoundContext()) {\n\t\t\tvoid this.getRouter().getTargets().display(\"detailObjectNotFound\");\n\t\t}\n\t}\n\t\n\tpublic onCloseDetailPress(): void {\n\t\t(this.getModel(\"appView\") as JSONModel).setProperty(\"/actionButtonsInfo/midColumn/fullScreen\", false);\n\t\tthis.getRouter().navTo(\"master\");\n\t}\n\n\tpublic handleFullScreen(): void {\n\t\tconst nextLayout = ((this.getModel(\"appView\") as JSONModel).getProperty(\"/actionButtonsInfo/midColumn/fullScreen\") as string);\n\t\tthis.getRouter().navTo(\"detail\", { layout: nextLayout, id: this.id });\n\t}\n\n\tpublic handleExitFullScreen(): void {\n\t\tconst nextLayout = ((this.getModel(\"appView\") as JSONModel).getProperty(\"/actionButtonsInfo/midColumn/exitFullScreen\") as string);\n\t\tthis.getRouter().navTo(\"detail\", { layout: nextLayout, id: this.id });\n\t}\n\n\tpublic handleClose(): void {\n\t\tconst nextLayout = ((this.getModel(\"appView\") as JSONModel).getProperty(\"/actionButtonsInfo/midColumn/closeColumn\") as string);\n\t\tthis.getRouter().navTo(\"master\", { layout: nextLayout });\n\t}\n}"],"mappings":"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"}